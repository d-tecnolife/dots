[ids]

*

[main]

# ========================================
# Japanese key remappings
# ========================================
#
# Key syntax examples:
#   key = a                       → type 'a'
#   key = S-grave                 → type '~' (shift + grave)
#   key = C-c                     → ctrl+c
#   key = A-tab                   → alt+tab
#   key = macro(hello)            → type "hello"
#   key = command(notify-send hi) → run a shell command
#   key = overload(layer, key)    → tap for key, hold for layer
#   key = noop                    → disable the key
#
# Modifiers: S = Shift, C = Control, A = Alt, M = Meta/Super
# Full key list: sudo keyd list-keys
# After editing: sudo keyd reload
#
# NOTE: command() runs as root. To run GUI commands as your user:
#   command(runuser -u dtec -- env WAYLAND_DISPLAY=wayland-1 XDG_RUNTIME_DIR=/run/user/1000 <cmd>)
# ========================================

# Yen (¥) → tilde / toggle hacker mode
yen = command(runuser -u dtec -- env WAYLAND_DISPLAY=wayland-1 XDG_RUNTIME_DIR=/run/user/1000 /home/dtec/.local/bin/toggle-hacker.sh) 
yen+shift = grave

# Muhenkan (無変換) → tap: Escape, hold: navigation layer
muhenkan = overload(nav, esc)

# Henkan (変換) → clipboard manager
henkan = command(runuser -u dtec -- env WAYLAND_DISPLAY=wayland-1 XDG_RUNTIME_DIR=/run/user/1000 /home/dtec/.config/hypr/scripts/ClipManager.sh)

# Compose → region screenshot with swappy editor
compose = command(runuser -u dtec -- env WAYLAND_DISPLAY=wayland-1 XDG_RUNTIME_DIR=/run/user/1000 HYPRLAND_INSTANCE_SIGNATURE=$(ls /run/user/1000/hypr/) /home/dtec/.config/hypr/scripts/ScreenShot.sh --swappy)

# Katakana/Hiragana (カタカナひらがな) → emoji picker
katakanahiragana = command(runuser -u dtec -- env WAYLAND_DISPLAY=wayland-1 XDG_RUNTIME_DIR=/run/user/1000 /home/dtec/.config/hypr/scripts/RofiEmoji.sh)

# ========================================
# Navigation layer (hold muhenkan)
# ========================================
[nav]
h = left
j = down
k = up
l = right
u = pageup
d = pagedown
g = home
S-g = end
